## 指针的基本概念

#### 变量的地址

在C++中，每定义一个变量，系统就会给变量分配一块内存，内存是有地址的，内存的地址一般用16进制表示。

32位系统中内存地址用4个字节表示，64位中用8个字节表示。

C++用 & 获取变量在内存中的起始位置。

语法：`&变量名`

#### 指针变量

指针变量简称指针，用于存放变量在内存中的起始地址。

语法：`数据类型 *变量名`

数据类型必须是合法的C++数据类型（可以是自定义数据类型）

#### 对指针赋值

语法：`指针 = &变量名`

此处指针存放了对应变量的地址。

虽然指针都代表地址，但指针本身也有数据类型，存放整型变量的指针称为整型指针，存放字符型变量的指针称为字符型指针， 以此类推。

例子

```c++
#include <iostream>

using namespace std;

int main()
{
	int a = 0;
	int* pa = &a;
	cout << "a\t= \t" << a << endl;
	cout << "&a\t= \t" << &a << endl;
	cout << "pa\t= \t" << pa << endl;
	cout << "*pa\t= \t" << *pa << endl;
	cout << "&pa\t= \t" << &pa << endl;
	return 0;
}
/*-------------------------------------------------------
输出：
a       =       0
&a      =       00000060F3D8FB94
pa      =       00000060F3D8FB94
*pa     =       0
&pa     =       00000060F3D8FBB8

*/
```

上面a，*pa 代表了整型变量的值，&a，pa 代表了整型变量的地址，&pa代表了整型指针的地址（指针本身作为变量也需要地址存放）

* 对指针赋值的操作也称为“指向某变量”，被指向的变量的数据类型被称为“基类型”。
* 如果指针的数据类型与基类型不符，编译会出现警告，但是可以强制转换它们的类型。

在C++中，指针是复合数据类型，复合数据类型是基于其他类型而定义的数据类型，在程序中，int是整型类型，int\*是整型指针类型，int\*可以用于声明变量，可以用于sizeof运算符，可以用于类型的强制转换，总的来说，把int\*当成一种数据类型即可。

## 使用指针

声明指针变量之后，赋值之前没有经过初始化不能使用指针。

\*运算符被称为**间接值**或**解除引用**运算符，将它用于指针，可以得到该地址的内存中存储的值

使用指针操作内存会导致原变量发生改变

例子

```c++
#include <iostream>

using namespace std;

int main()
{
	int a = 0;
	int* pa = &a;
	cout << "a = " << a << endl;
	*pa = 1;
	cout << "a = " << a << endl;
	return 0;
}
/*------------------------------------------
输出：
a = 0
a = 1

*/
```

起始地址决定变量的位置，数据类型决定了占用内存的大小和操作数据的方法。

## 指针用于函数参数

#### 使用地址提升效率

* 可以在函数中修改实参的值
* 减少内存拷贝，提升性能

## 用const修饰指针

#### 常量指针

语法：`const 数据类型 *变量名`

不能通过解引用的方式修改内存地址中的值（可以用原始变量名修改）

* 指向的变量（对象）可以改变
* 一般用于修饰函数的形参，表示不希望在函数里修改内存地址中的值
* 如果用于形参，虽然指向的对象可以改变，但这么做没有任何意义
* 如果形参的值不需要改变，建议加上const修饰，程序可读性更好

#### 指针常量

语法：`数据类型 * const 变量名`

* 指向的变量（对象）不可改变

* 在定义的同时必须初始化，否则无意义
* 可以通过解引用的方法修改内存地址中的值
* C++编译器把指针常量做了一些特别的处理，叫“引用”

#### 常指针常量

语法：`const 数据类型 * const 变量名`

指向的变量不可修改，不能通过解引用的方式修改内存地址中的值。

## void 关键字

在c++中，void表示**无类型**，主要有三个用途

* 函数的返回值用void, 表示函数没有返回值

```c++
void func(int a, int b)
{
    // 代码块
    return ;
}
```

* 函数参数列表填void, 表示函数不需要参数

```c++
int func(void)
{
    // 代码块
    return 0;
}
```

函数形参如果用**void\***, 表示接受任何数据类型的指针.

注意:

* 不能用void声明变量
* 不能直接对 void\* 解引用 (解引用时必须知道数据类型大小)
* 把其他类型的指针赋值给 void\* 指针不需要转换
* 把void\* 指针赋值给其他指针需要转换
# 设置虚拟机静态IP

企业网络有统一的规划和设计，服务器的网络参数由网络管理员分配

办公/家用电脑的IP地址由交换机/路由器动态分配

服务器IP地址应该是静态的

## VMware的三种网络模式

安装VM后会出现两个虚拟网卡

VM提供了三种网络模式：桥接模式，NAT模式（网络地址转换），仅主机模式（Host Only）

### 桥接模式

该模式没有用到虚拟网卡，虚拟机会分配局域网中真实的网络地址，网关和子网掩码等

虚拟机和宿主机是平等地位，其关系类似于连接同一交换机的两个主机，虚拟机可以与局域网中的主机相互访问，也可以访问互联网

### NAT模式

该模式将使用VMnet8虚拟网卡，由虚拟网卡VMnet8为虚拟机分配IP地址，网关和DNS

虚拟机可以和宿主机进行相互通信，虚拟机可以访问局域网中其他的主机，也可以访问互联网。但是，其他主机不能访问此虚拟机

### 仅主机模式

该模式将使用VMnet1虚拟网卡，由虚拟网卡VMnet1为虚拟机分配IP地址，网关和DNS

虚拟机只能和宿主机进行通信，不能访问局域网中其他的主机，也不能访问互联网

1. 默认使用NAT模式
2. 如果找不到虚拟网卡可以使用桥接模式
3. 把虚拟机的网络改为静态IP

## 设置虚拟机静态IP

NAT模式

网关和子网掩码看虚拟机配置，ip地址不能与宿主机和网关相同

BOOTPROTO=static        # dhcp-动态ip static-静态IP
IPADDR=192.168.162.129  # IP地址
NETMASK=255.255.255.0   # 子网掩码
GATEWAY=192.168.162.2   # 网关
DNS1=8.8.8.8            # 谷歌的DNS服务器
DNS2=114.114.114.114    # 中国电信的DNS服务器

桥接模式

虚拟机子网掩码和网关与windows一样，ip不能和windows冲突

## 修改主机名

`hostnamectl set-hostname 主机名`


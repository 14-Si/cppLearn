## 类

类是 C++ 中代码的基本单元。显然，它们被广泛使用，本节列举了在写一个类时的主要注意事项

### 构造函数的职责

**总述**

不要在构造函数中调用虚函数，也不要再无法报出错误时进行可能失败的初始化。

**定义**

在构造函数中可以进行各种初始化操作。

**优点**

* 无需考虑类是否被初始化
* 经过构造函数完全初始化后的对象可以为`const`类型，也能更方便地被标准容器或算法使用。

**缺点**

* 如果在构造函数内调用了自身的虚函数，这类调用是不会重定向到子类的虚函数实现。即使当前没有子类实现，将来仍是隐患。
* 在没有是程序崩溃或者使用异常等方法的条件下，构造函数很难上报错误
* 如果执行失败，会得到一个初始化失败的对象，这个对象有可能进入不正常的状态，必须使用`bool IsValid()`或类似这样的机制才